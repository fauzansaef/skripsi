<!DOCTYPE html>
<html layout:decorate="~{layout/base}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Office TIK - Detail Proyek Aplikasi</title>
</head>
<body>
<div layout:fragment="content" th:remove="tag">

    <div class="toolbar mt-0" id="kt_toolbar" style="background-color: #FEC91B;">
        <div id="kt_toolbar_container" class="container-fluid d-flex ">
            <div data-kt-swapper="true" data-kt-swapper-mode="prepend"
                 data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}"
                 class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                <div data-kt-swapper="true" data-kt-swapper-mode="prepend"
                     data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}"
                     class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                    <h1 class="d-flex text-dark fw-bolder fs-3 align-items-center my-1"
                        th:text="${'Detil Proyek ' + aplikasi.getNama() + ' - Ver. ' + versiAplikasi.getVersioning()}"></h1>
                </div>
            </div>
        </div>
    </div>


    <div class="col-12 p-0" style="margin-bottom: -30px;">
        <div class="card card-flush bgi-no-repeat bgi-size-contain bgi-position-x-center h-md-50 mb-5 mb-xl-10"
             style="background-color: #080655;background-image:url('/assets/media/svg/shapes/wave-bg-dark.svg'); background-image:repeat;">
            <div class="card-header pt-5">
                <div class="card-title d-flex flex-column col-md-8">
                    <ul style="list-style: none;">
                        <li style="display: inline-block;"><h1 class="mb-5 text-white" th:text="${aplikasi.getNama()}"></h1></li>&nbsp;&nbsp;&nbsp;
                        <li style="display: inline-block;"><h1 class="mb-5 text-white"><i>deadline : &nbsp;&nbsp;&nbsp;</i></h1></li>
                        <li style="display: inline-block"><h1 class="mb-5 text-white" th:text="${#strings.substring(versiAplikasi.getDeadline_proyek(),0,10)}!= null ? ${#temporals.format(versiAplikasi.getDeadline_proyek(), 'dd-MM-yyyy')} : ' - '"></h1>
                        </li>
                    </ul>
                    <ul style="list-style: none;">
                        <li style="display: inline-block;"><span class="mb-5 text-white"
                                  th:text="${versiAplikasi.getKeterangan()}"></span></li>
                    </ul>

                </div>
                <div class="card-toolbar" style="display:block">
                    <style>
                        button.aktif{
                            background:#FFFFFF;
                        }
                    </style>
                    <!--begin::Menu-->
                    <button type="button" class="aktif btn btn-sm  border-0 me-n3" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
                        <i class="icon-xl far fa-edit"></i><b>Aksi</b>
                    </button>
                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg-light-primary fw-bold w-200px py-3"
                         data-kt-menu="true" style="">
                        <div class="menu-item px-3">
                            <a th:href="@{'/monitoring/aplikasi/edit-surat-by-monitoring/'+${versiAplikasi.getId_version()}}" class="menu-link px-3">Cetak PDF</a>
                        </div>
                        <div class="menu-item px-3">
                            <a onclick="goToStepperEditAplikasi()" class="menu-link px-3">Edit</a>
                        </div>
                        <div class="menu-item px-3">
                            <a onclick="goToEditKebutuhanAplikasi()" class="menu-link px-3">Edit Kebutuhan</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body align-items-end pt-10">
                <ul>
                    <li>
                        <div class="d-flex col-12">
                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 px-4 me-6 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Unit Pengampu:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${aplikasi.detailSeksi.getNama_seksi()}"></div>
                            </div>
                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Perwakilan Bisnis Owner:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${aplikasi.stakeholder} != null ?  ${aplikasi.detailStakeholder.getNama_stakeholder()} : '-'"></div>
                            </div>
                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Kategori Aplikasi:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${aplikasi.kategoriAplikasi.getNama_kategori_aplikasi()} != null ?  ${aplikasi.kategoriAplikasi.getNama_kategori_aplikasi()} : '-'"></div>
                                </div>

                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 px-4 me-6 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Bahasa Pemrograman:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${versiAplikasi.getBhs_program()} != null ?  ${versiAplikasi.getBhs_program()} : '-'"></div>
                            </div>
                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Database:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${versiAplikasi.getJenis_database()} != null ?  ${versiAplikasi.getJenis_database()} : '-'"></div>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="d-flex col-12">
                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Dokumen Dasar:</span>
                                <table style="width: 100%;">
                                    <tr>
                                        <td style="width: 90%;">
                                            <div class="fw-bold text-gray-200"
                                                 th:text="${versiAplikasi.getFile_dokumen_dasar()} != null ?  ${versiAplikasi.getFile_dokumen_dasar()} : '-'"></div>
                                        </td>
                                        <td style="width: 10%"><div class="d-flex align-items-senter">
                                            <th:block th:if="${versiAplikasi.getFile_dokumen_dasar() != null}">
                                                <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/1|}"><img
                                                        src="/assets/media/files/pdf.svg"
                                                        style="width: 40px; margin-left: -5px;"></a>
                                            </th:block>
                                        </div></td>
                                    </tr>
                                </table>


                            </div>


                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Fungsi Modul:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${versiAplikasi.getModul_fungsi()} != null ?  ${versiAplikasi.getModul_fungsi()} : '-'"></div>
                            </div>
                            <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                <span class="fs-6 fw-bolder" style="color: #FEC91B;">Keterkaitan Aplikasi Lain:</span>
                                <div class="fw-bold text-gray-200"
                                     th:text="${versiAplikasi.getKeterkaitan_apl()} != null ?  ${versiAplikasi.getKeterkaitan_apl()} : '-'"></div>
                            </div>
                        </div>
                    </li>
                    <div class="d-flex col-12">
                        <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                            <span class="fs-6 fw-bolder" style="color: #FEC91B;">Bisnis Owner:</span>
                            <tr class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3"
                                th:each="bisnisOwner:${bisnisOwners}">
                                <td style="width:50%">
                                    <div style="padding-left: 10px;" class="fw-bold text-gray-200"
                                         th:text="${bisnisOwner.getStakeholder().getNama_stakeholder() +' '+'-'+' '+ bisnisOwner.getStakeholder().getNama_detail_stakeholder()}"></div>
                                </td>
                            </tr>
                        </div>
                        <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                            <span class="fs-6 fw-bolder" style="color: #FEC91B;">Infrastruktur:</span>
                            <div class="fw-bold text-gray-200"
                                 th:text="${aplikasi.getInfrastruktur()} != null ?  ${aplikasi.getInfrastruktur()} : '-'"></div>
                        </div>
                    </div>
                    <div class="d-flex col-12">
                        <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                            <span class="fs-6 fw-bolder" style="color: #FEC91B;">Source code:</span>
                            <div class="fw-bold text-gray-200"
                                 th:text="${aplikasi.getSource_link()} != null ?  ${aplikasi.getSource_link()} : '-'"></div>
                        </div>
                    </div>
                    <div class="d-flex col-12">
                        <div class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                            <span class="fs-6 fw-bolder" style="color: #FEC91B;">Kebutuhan Aplikasi:</span>
                            <div class="fw-bold text-gray-200">
                                <table style="width:100%">
                                    <tr>
                                        <td style="width:50%">Kebutuhan:</td>
                                        <td style="width:50%">Keterangan:</td>
                                    </tr>
                                    <div th:if="${kebutuhans.size()!=0}">
                                        <tr class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3"
                                            th:each="kebutuhan:${kebutuhans}">

                                            <td style="width:50%">
                                                <div style="padding-left: 10px;" class="fw-bold text-gray-200"
                                                     th:text="${kebutuhan.getKeterangan()}"></div>
                                            </td>
                                            <td class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                                <div class="fw-bold text-gray-200"
                                                     th:text="${kebutuhan.getTerpenuhi()} == 1 ?  'Terpenuhi' : 'Belum Terpenuhi'"></div>
                                            </td>
                                        </tr>
                                    </div>

                                    <div th:unless="${kebutuhans.size()!=0}">
                                        <tr class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                            <td style="width:50%">
                                                <div style="padding-left: 10px;" class="fw-bold text-gray-200"><p>-</p>
                                                </div>
                                            </td>
                                            <td class="border border-gray-200 border-dashed rounded min-w-100px w-100 py-2 me-6 px-4 mb-3">
                                                <div style="padding-left: 10px;" class="fw-bold text-gray-200"><p>-</p>
                                                </div>
                                            </td>
                                        </tr>
                                    </div>


                                    </tr>

                                </table>
                            </div>
                        </div>
                    </div>
                </ul>
            </div>
        </div>
    </div>

    <div style="margin-top:30px; padding:0px">
        <ul class="nav nav-pills nav-pills-custom mb-3">
            <li class="nav-item col-3 p-0 m-0">
                <a class="nav-link d-flex justify-content-between flex-column flex-center overflow-hidden h-85px py-4 active"
                   data-bs-toggle="pill" href="#tabPerencanaan">
                    <div class="nav-icon">
                        <img alt="" src="/assets/media/svg/products-categories/watch.svg" class="">
                    </div>
                    <span class="nav-text text-gray-700 fw-bolder fs-6 lh-1">Perencanaan</span>
                    <span class="bullet-custom position-absolute bottom-0 w-100 h-4px bg-primary"></span>
                </a>
            </li>
            <li class="nav-item col-3 p-0 m-0">
                <a class="nav-link d-flex justify-content-between flex-column flex-center overflow-hidden h-85px py-4 "
                   data-bs-toggle="pill" href="#tabPengembangan">
                    <div class="nav-icon">
                        <img alt="" src="/assets/media/svg/products-categories/gaming.svg" class="">
                    </div>
                    <span class="nav-text text-gray-700 fw-bolder fs-6 lh-1">Pengembangan</span>
                    <span class="bullet-custom position-absolute bottom-0 w-100 h-4px bg-primary"></span>
                </a>
            </li>
            <li class="nav-item col-3 p-0 m-0">
                <a class="nav-link d-flex justify-content-between flex-column flex-center overflow-hidden h-85px py-4"
                   data-bs-toggle="pill" href="#tabPengujian">
                    <div class="nav-icon">
                        <img alt="" src="/assets/media/svg/misc/eolic-energy.svg" class="">
                    </div>
                    <span class="nav-text text-gray-600 fw-bolder fs-6 lh-1">Pengujian</span>
                    <span class="bullet-custom position-absolute bottom-0 w-100 h-4px bg-primary"></span>
                </a>
            </li>
            <li class="nav-item col-3 p-0 m-0">
                <a class="nav-link d-flex justify-content-between flex-column flex-center overflow-hidden h-85px py-4"
                   data-bs-toggle="pill" href="#tabDeployment">
                    <div class="nav-icon">
                        <img alt="" src="/assets/media/svg/products-categories/gloves.svg" class="nav-icon">
                    </div>
                    <span class="nav-text text-gray-600 fw-bolder fs-6 lh-1">Deployment</span>
                    <span class="bullet-custom position-absolute bottom-0 w-100 h-4px bg-primary"></span>
                </a>
            </li>
        </ul>
    </div>


    <div class="tab-content">
        <div class="tab-pane fade  active show" id="tabPerencanaan">
            <div class="row gx-5 gx-xl-10">
                <div class="col-xl-8 mb-5 mb-xl-10 " style="padding-left: 0px;">
                    <div class="card card-flush overflow-hidden h-xl-100">
                        <!--end::Header-->
                        <div class="card-body p-10">
                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Waktu Perencanaan</span>
                                </h3>
                                <div class="d-flex align-items-senter">
                                    <span class="text-gray-900 fw-boldest fs-6"
                                          th:text="${#strings.substring(versiAplikasi.getWkt_perencanaan_awal(),0,10)} != null ? ${#temporals.format(versiAplikasi.getWkt_perencanaan_awal(), 'dd-MM-yyyy')} +' sampai dengan ' +${#temporals.format(versiAplikasi.getWkt_perencanaan_akhir(), 'dd-MM-yyyy')} : '-'"></span>
                                </div>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>

                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Tim Perencanaan</span>
                                </h3>
                            </div>
                            <div>
                                <table>
                                    <tr th:each="tim:${timProyeks}">
                                        <th:block th:if="${tim.getId_proses()==1}">
                                            <td style="width:65%">
                                                <span class="text-gray-400 fw-bold fs-6 me-2 mt-5"
                                                      th:text="${tim.getNama_pegawai()}"/>
                                            </td>

                                            <td style="width:35%">
                                               <span class="text-gray-400 fw-bold fs-6 me-2 mt-5"
                                                     th:text="${tim.getRole().getNama()}"/>
                                            </td>
                                        </th:block>
                                    </tr>
                                </table>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>

                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Dokumen Perencanaan</span>
                                </h3>
                            </div>
                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Project Charter</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_project_charter() != null}"
                                         th:text="${#strings.capitalize(versiAplikasi.getPembuat_project_charter())}+' '+${#temporals.format(versiAplikasi.getWkt_project_charter(), 'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_project_charter() == null}"
                                         th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getProject_charter() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/3|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>
                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Project Management Plan</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_pmp() != null}"
                                         th:text="${#strings.capitalize(versiAplikasi.getPembuat_pmp())}+' '+${#temporals.format(versiAplikasi.getWkt_pmp(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_pmp() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getPmp() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/4|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>

                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Kajian</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:text="${versiAplikasi.getKajian()} != null ? ${versiAplikasi.getKajian()} : '-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getKajian() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/6|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>
                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Dokumen Lainnya</span>
                                </h3>
                            </div>
                            <th:block th:each="dokumen : ${dokumens}">
                                <th:block th:if="${dokumen.getId_proses()==1}">
                                    <div class="d-flex flex-stack">
                                        <div class="row">
                                            <div class="text-gray-400 fw-bold fs-6 me-2 mt-2"
                                                 th:if="${dokumen.getNama_dokumen() != null}"
                                                 th:text="${#strings.capitalize(dokumen.getNama_dokumen())}"></div>
                                            <div class="text-gray-400 fw-bold fs-6 me-2 mt-2"
                                                 th:if="${dokumen.getNama_dokumen() == null || dokumen.getNama_dokumen() == ''}">
                                                Nama Dokumen Tidak Ada
                                            </div>
                                            <div class="fw-bold fs-7 text-danger"
                                                 th:text="${#strings.capitalize(dokumen.getNama_pembuat_dokumen())}+' '+${#dates.format(dokumen.getWkt_upload(),'dd-MM-yyyy')}"></div>
                                        </div>
                                        <div class="d-flex align-items-senter">
                                            <th:block th:if="${dokumen.getFile_dokumen() != null}">
                                                <a th:href="@{|/pengembangan/dokumen/download/${dokumen.getId_dokumen()}|}"><img
                                                        src="/assets/media/files/pdf.svg"
                                                        style="width: 40px; margin-left: -5px;"></a>
                                            </th:block>
                                        </div>
                                    </div>
                                </th:block>
                            </th:block>
                            <th:block th:if="${dokumens.size() <= 0}">
                                <div class="d-flex flex-stack">
                                    <div class="row">
                                        <a href="#" class="text-gray-400 fw-bold fs-6 me-2 mt-2">Tidak ada dokumen
                                            lainnya</a>
                                    </div>
                                </div>
                            </th:block>
                            <div class="separator separator-dashed border-2 my-3"></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 mb-5 mb-xl-0 p-0" style="height:fit-content">
                    <div class="card card-flush overflow-hidden h-xl-100">
                        <div class="card-header">
                            <h3 class="card-title align-items-start flex-column">
                                <span class="card-label fw-bolder text-gray-800">Dokumentasi Persuratan</span>
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="w-100">
                                <th:block th:each="surat : ${surats}">
                                    <div class="d-flex align-items-center">
                                        <div class="symbol symbol-30px me-5">
										<span class="symbol-label">
											<span class="svg-icon svg-icon-3 svg-icon-gray-600">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none">
													<path opacity="0.3"
                                                          d="M21 19H3C2.4 19 2 18.6 2 18V6C2 5.4 2.4 5 3 5H21C21.6 5 22 5.4 22 6V18C22 18.6 21.6 19 21 19Z"
                                                          fill="currentColor"></path>
													<path d="M21 5H2.99999C2.69999 5 2.49999 5.10005 2.29999 5.30005L11.2 13.3C11.7 13.7 12.4 13.7 12.8 13.3L21.7 5.30005C21.5 5.10005 21.3 5 21 5Z"
                                                          fill="currentColor"></path>
												</svg>
											</span>
										</span>
                                        </div>
                                        <div class="d-flex align-items-center flex-stack flex-wrap d-grid gap-1 flex-row-fluid">
                                            <div class="me-5">
                                                <a href="#" class="text-gray-800 fw-bolder text-hover-primary fs-6"
                                                   th:text="${surat.getNo_surat()}"></a>
                                                <span class="text-gray-400 fw-bold fs-7 d-block text-start ps-0"
                                                      th:text="${#dates.format(surat.getTgl_surat(),'dd-MM-yyyy')}"></span>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <th:block th:if="${surat.getFile_surat() != null}">
                                                    <a th:href="@{|/manajemen/surat/download/${surat.getId_surat()}/1|}"><img
                                                            src="/assets/media/files/pdf.svg"
                                                            style="width: 40px; margin-left: -5px;"></a>
                                                </th:block>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="separator separator-dashed my-3"></div>
                                </th:block>
                                <th:block th:if="${surats.size() <= 0}">
                                    <div class="d-flex flex-stack">
                                        <div class="row">
                                            <span href="#"
                                                  class="text-gray-400 fw-bold fs-6 me-2">Tidak ada persuratan</span>
                                        </div>
                                    </div>
                                </th:block>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="tabPengembangan">
            <div class="row gx-5 gx-xl-10">
                <div class="col-xl-8 mb-5 mb-xl-10 " style="padding-left: 0px;">
                    <div class="card card-flush overflow-hidden h-xl-100">
                        <!--end::Header-->
                        <div class="card-body p-10">
                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Waktu Pengembangan</span>
                                </h3>
                                <div class="d-flex align-items-senter">
                                    <span class="text-gray-900 fw-boldest fs-6"
                                          th:text="${#strings.substring(versiAplikasi.getTgl_mulai_pengembangan(),0,10)} != null ? ${#temporals.format(versiAplikasi.getTgl_mulai_pengembangan(),'dd-MM-yyyy')} +' sampai dengan ' +${#temporals.format(versiAplikasi.getTgl_akhir_pengembangan(),'dd-MM-yyyy')} : '-'"></span>
                                </div>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>

                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Tim Pengembangan</span>
                                </h3>
                            </div>
                            <div>
                                <table>
                                    <tr th:each="tim:${timProyeks}">
                                        <th:block th:if="${tim.getId_proses()==2}">
                                            <td style="width:65%">
                                                <span class="text-gray-400 fw-bold fs-6 me-2 mt-5"
                                                      th:text="${tim.getNama_pegawai()}"/>
                                            </td>

                                            <td style="width:35%">
                                               <span class="text-gray-400 fw-bold fs-6 me-2 mt-5"
                                                     th:text="${tim.getRole().getNama()}"/>
                                            </td>
                                        </th:block>
                                    </tr>
                                </table>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>

                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Dokumen Pengembangan</span>
                                </h3>
                            </div>
                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">User Requirement Spesification (URS) / Request for Change (RFC)
                                    </div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_urs() != null}"
                                         th:text="${#strings.capitalize(versiAplikasi.getPembuat_urs())}+' '+${#temporals.format(versiAplikasi.getWkt_urs(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_urs() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getUrs() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/7|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>
                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">System Requirement Specification
                                        (SRS)
                                    </div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_srs() != null}"
                                         th:text="${#strings.capitalize(versiAplikasi.getPembuat_srs())}+' '+${#temporals.format(versiAplikasi.getWkt_srs(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_srs() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getSrs() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/8|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>

                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">System Detail Design (SDD)</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_sdd() != null}"
                                         th:text="${#strings.capitalize(versiAplikasi.getPembuat_sdd())}+' '+${#temporals.format(versiAplikasi.getWkt_sdd(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getPembuat_sdd() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getSdd() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/9|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>
                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Dokumen Lainnya</span>
                                </h3>
                            </div>
                            <th:block th:each="dokumen : ${dokumens}">
                                <th:block th:if="${dokumen.getId_proses()==2}">
                                    <div class="d-flex flex-stack">
                                        <div class="row">
                                            <div class="text-gray-400 fw-bold fs-6 me-2 mt-2"
                                                 th:if="${dokumen.getNama_dokumen() != null}"
                                                 th:text="${#strings.capitalize(dokumen.getNama_dokumen())}"></div>
                                            <div class="text-gray-400 fw-bold fs-6 me-2 mt-2"
                                                 th:if="${dokumen.getNama_dokumen() == null || dokumen.getNama_dokumen() == ''}">
                                                Nama Dokumen Tidak Ada
                                            </div>
                                            <div class="fw-bold fs-7 text-danger"
                                                 th:text="${#strings.capitalize(dokumen.getNama_pembuat_dokumen())}+' '+${#dates.format(dokumen.getWkt_upload(),'dd-MM-yyyy')}"></div>
                                        </div>
                                        <div class="d-flex align-items-senter">
                                            <th:block th:if="${dokumen.getFile_dokumen() != null}">
                                                <a th:href="@{|/pengembangan/dokumen/download/${dokumen.getId_dokumen()}|}"><img
                                                        src="/assets/media/files/pdf.svg"
                                                        style="width: 40px; margin-left: -5px;"></a>
                                            </th:block>
                                        </div>
                                    </div>
                                </th:block>
                            </th:block>
                            <th:block th:if="${dokumens.size() <= 0}">
                                <div class="d-flex flex-stack">
                                    <div class="row">
                                        <a href="#" class="text-gray-400 fw-bold fs-6 me-2 mt-2">Tidak ada dokumen
                                            lainnya</a>
                                    </div>
                                </div>
                            </th:block>
                            <div class="separator separator-dashed border-2 my-3"></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 mb-5 mb-xl-0 p-0" style="height:fit-content">
                    <div class="card card-flush overflow-hidden h-xl-100">
                        <div class="card-header">
                            <h3 class="card-title align-items-start flex-column">
                                <span class="card-label fw-bolder text-gray-800">Dokumentasi Persuratan</span>
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="w-100">
                                <th:block th:each="surat : ${surats}">
                                    <div class="d-flex align-items-center">
                                        <div class="symbol symbol-30px me-5">
										<span class="symbol-label">
											<span class="svg-icon svg-icon-3 svg-icon-gray-600">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none">
													<path opacity="0.3"
                                                          d="M21 19H3C2.4 19 2 18.6 2 18V6C2 5.4 2.4 5 3 5H21C21.6 5 22 5.4 22 6V18C22 18.6 21.6 19 21 19Z"
                                                          fill="currentColor"></path>
													<path d="M21 5H2.99999C2.69999 5 2.49999 5.10005 2.29999 5.30005L11.2 13.3C11.7 13.7 12.4 13.7 12.8 13.3L21.7 5.30005C21.5 5.10005 21.3 5 21 5Z"
                                                          fill="currentColor"></path>
												</svg>
											</span>
										</span>
                                        </div>
                                        <div class="d-flex align-items-center flex-stack flex-wrap d-grid gap-1 flex-row-fluid">
                                            <div class="me-5">
                                                <a href="#" class="text-gray-800 fw-bolder text-hover-primary fs-6"
                                                   th:text="${surat.getNo_surat()}"></a>
                                                <span class="text-gray-400 fw-bold fs-7 d-block text-start ps-0"
                                                      th:text="${#dates.format(surat.getTgl_surat(),'dd-MM-yyyy')}"></span>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <th:block th:if="${surat.getFile_surat() != null}">
                                                    <a th:href="@{|/manajemen/surat/download/${surat.getId_surat()}/1|}"><img
                                                            src="/assets/media/files/pdf.svg"
                                                            style="width: 40px; margin-left: -5px;"></a>
                                                </th:block>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="separator separator-dashed my-3"></div>
                                </th:block>
                                <th:block th:if="${surats.size() <= 0}">
                                    <div class="d-flex flex-stack">
                                        <div class="row">
                                            <span href="#"
                                                  class="text-gray-400 fw-bold fs-6 me-2">Tidak ada persuratan</span>
                                        </div>
                                    </div>
                                </th:block>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="tabPengujian">
            <div class="row gx-5 gx-xl-10">
                <div class="col-xl-8 mb-5 mb-xl-10 " style="padding-left: 0px;">
                    <div class="card card-flush overflow-hidden h-xl-100">
                        <!--end::Header-->
                        <div class="card-body p-10">
                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Waktu Pengujian</span>
                                </h3>
                                <div class="d-flex align-items-senter">
                                    <span class="text-gray-900 fw-boldest fs-6"
                                          th:text="${#strings.substring(versiAplikasi.getWkt_pengujian_awal(),0,10)} != null ? ${#temporals.format(versiAplikasi.getWkt_pengujian_awal(),'dd-MM-yyyy')} +' sampai dengan ' +${#temporals.format(versiAplikasi.getWkt_pengujian_akhir(),'dd-MM-yyyy')} : '-'"></span>
                                </div>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>

                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Tim Pengujian</span>
                                </h3>
                            </div>
                            <div>
                                <table>
                                    <tr th:each="tim:${timProyeks}">
                                        <th:block th:if="${tim.getId_proses()==3}">
                                            <td style="width:65%">
                                                <span class="text-gray-400 fw-bold fs-6 me-2 mt-5"
                                                      th:text="${tim.getNama_pegawai()}"/>
                                            </td>

                                            <td style="width:35%">
                                               <span class="text-gray-400 fw-bold fs-6 me-2 mt-5"
                                                     th:text="${tim.getRole().getNama()}"/>
                                            </td>
                                        </th:block>
                                    </tr>
                                </table>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>


                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Dokumen Pengujian</span>
                                </h3>
                            </div>

                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Kep TIM</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getNo_kep_tim() != null}"
                                         th:text="'No. ' + ${#strings.capitalize(versiAplikasi.getNo_kep_tim())}+' tanggal : '+${#temporals.format(versiAplikasi.getTgl_keptim(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getTgl_keptim() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getFile_keptim() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/2|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>

                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Dokumen Permohonan Tranfer of Knowldege
                                        (ToK)
                                    </div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getTgl_permohonan_tok() != null}"
                                         th:text="${#temporals.format(versiAplikasi.getTgl_permohonan_tok(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getTgl_permohonan_tok() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getFile_permohonan_tok() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/13|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>

                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Dokumen Permohonan User Acceptance Test (UAT)
                                    </div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getTgl_permohonan_uat() != null}"
                                         th:text="${#temporals.format(versiAplikasi.getTgl_permohonan_uat(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getTgl_permohonan_uat() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getFile_permohonan_uat() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/14|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>


                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">Dokumen Tranfer of Knowldege
                                        (ToK)
                                    </div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getWkt_pengajuan_tok() != null}"
                                         th:text="${#temporals.format(versiAplikasi.getWkt_pengajuan_tok(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getWkt_pengajuan_tok() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getFile_tok() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/10|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>
                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">User Acceptance Test (UAT)</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getWkt_pengajuan_uat() != null}"
                                         th:text="${#temporals.format(versiAplikasi.getWkt_pengajuan_uat(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getWkt_pengajuan_uat() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getFile_uat() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/11|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>

                            <div class="d-flex flex-stack">
                                <div class="row">
                                    <div class="text-gray-400 fw-bold fs-6 me-2 mt-5">ND Deploy</div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getWkt_nd_deploy() != null}"
                                         th:text="${#temporals.format(versiAplikasi.getWkt_nd_deploy(),'dd-MM-yyyy')}"></div>
                                    <div class="fw-bold fs-7 text-danger"
                                         th:if="${versiAplikasi.getWkt_nd_deploy() == null}" th:text="'-'"></div>
                                </div>
                                <div class="d-flex align-items-senter">
                                    <th:block th:if="${versiAplikasi.getNd_deploy() != null}">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/12|}"><img
                                                src="/assets/media/files/pdf.svg"
                                                style="width: 40px; margin-left: -5px;"></a>
                                    </th:block>
                                </div>
                            </div>
                            <div class="separator separator-dashed border-2 my-3"></div>
                            <div class="d-flex flex-stack">
                                <h3 class="card-title align-items-start flex-column">
                                    <span class="card-label fw-bolder text-dark">Dokumen Lainnya</span>
                                </h3>
                            </div>
                            <th:block th:each="dokumen : ${dokumens}">
                                <th:block th:if="${dokumen.getId_proses()==3}">
                                    <div class="d-flex flex-stack">
                                        <div class="row">
                                            <div class="text-gray-400 fw-bold fs-6 me-2 mt-2"
                                                 th:if="${dokumen.getNama_dokumen() != null}"
                                                 th:text="${#strings.capitalize(dokumen.getNama_dokumen())}"></div>
                                            <div class="text-gray-400 fw-bold fs-6 me-2 mt-2"
                                                 th:if="${dokumen.getNama_dokumen() == null || dokumen.getNama_dokumen() == ''}">
                                                Nama Dokumen Tidak Ada
                                            </div>
                                            <div class="fw-bold fs-7 text-danger"
                                                 th:text="${#strings.capitalize(dokumen.getNama_pembuat_dokumen())}+' '+${#dates.format(dokumen.getWkt_upload(),'dd-MM-yyyy')}"></div>
                                        </div>
                                        <div class="d-flex align-items-senter">
                                            <th:block th:if="${dokumen.getFile_dokumen() != null}">
                                                <a th:href="@{|/pengembangan/dokumen/download/${dokumen.getId_dokumen()}|}"><img
                                                        src="/assets/media/files/pdf.svg"
                                                        style="width: 40px; margin-left: -5px;"></a>
                                            </th:block>
                                        </div>
                                    </div>
                                </th:block>
                            </th:block>
                            <th:block th:if="${dokumens.size() <= 0}">
                                <div class="d-flex flex-stack">
                                    <div class="row">
                                        <a href="#" class="text-gray-400 fw-bold fs-6 me-2 mt-2">Tidak ada dokumen
                                            lainnya</a>
                                    </div>
                                </div>
                            </th:block>
                            <div class="separator separator-dashed border-2 my-3"></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 mb-5 mb-xl-0 p-0" style="height:fit-content">
                    <div class="card card-flush overflow-hidden h-xl-100">
                        <div class="card-header">
                            <h3 class="card-title align-items-start flex-column">
                                <span class="card-label fw-bolder text-gray-800">Dokumentasi Persuratan</span>
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="w-100">
                                <th:block th:each="surat : ${surats}">
                                    <div class="d-flex align-items-center">
                                        <div class="symbol symbol-30px me-5">
										<span class="symbol-label">
											<span class="svg-icon svg-icon-3 svg-icon-gray-600">
												<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24" fill="none">
													<path opacity="0.3"
                                                          d="M21 19H3C2.4 19 2 18.6 2 18V6C2 5.4 2.4 5 3 5H21C21.6 5 22 5.4 22 6V18C22 18.6 21.6 19 21 19Z"
                                                          fill="currentColor"></path>
													<path d="M21 5H2.99999C2.69999 5 2.49999 5.10005 2.29999 5.30005L11.2 13.3C11.7 13.7 12.4 13.7 12.8 13.3L21.7 5.30005C21.5 5.10005 21.3 5 21 5Z"
                                                          fill="currentColor"></path>
												</svg>
											</span>
										</span>
                                        </div>
                                        <div class="d-flex align-items-center flex-stack flex-wrap d-grid gap-1 flex-row-fluid">
                                            <div class="me-5">
                                                <a href="#" class="text-gray-800 fw-bolder text-hover-primary fs-6"
                                                   th:text="${surat.getNo_surat()}"></a>
                                                <span class="text-gray-400 fw-bold fs-7 d-block text-start ps-0"
                                                      th:text="${#dates.format(surat.getTgl_surat(),'dd-MM-yyyy')}"></span>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <th:block th:if="${surat.getFile_surat() != null}">
                                                    <a th:href="@{|/manajemen/surat/download/${surat.getId_surat()}/1|}"><img
                                                            src="/assets/media/files/pdf.svg"
                                                            style="width: 40px; margin-left: -5px;"></a>
                                                </th:block>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="separator separator-dashed my-3"></div>
                                </th:block>
                                <th:block th:if="${surats.size() <= 0}">
                                    <div class="d-flex flex-stack">
                                        <div class="row">
                                            <span href="#"
                                                  class="text-gray-400 fw-bold fs-6 me-2">Tidak ada persuratan</span>
                                        </div>
                                    </div>
                                </th:block>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="tabDeployment">

        </div>
    </div>

    <input type="text" id="idVersion" th:value="${versiAplikasi.getId_version()}" disabled hidden="hidden"/>
    <input type="text" id="idAplikasi" th:value="${versiAplikasi.getId_aplikasi()}" disabled hidden="hidden"/>
</div>
<div layout:fragment="custom-js" th:remove="tag">
    <script th:src="@{/assets/js/djp/custom/baseMonitoringAplikasi.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/djp/custom/dashboardMonitoringAplikasi.js}" type="text/javascript"></script>
</div>
</body>
</html>