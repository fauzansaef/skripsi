<!DOCTYPE html>
<html layout:decorate="~{layout/base}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Office TIK - Tambah Dokumen Proyek</title>
</head>
<body>
<div layout:fragment="content" th:remove="tag">

    <div class="toolbar mt-0" id="kt_toolbar" style="background-color: #FEC91B;">
        <div id="kt_toolbar_container" class="container-fluid d-flex ">
            <div data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                <div data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                    <h1 class="d-flex text-dark fw-bolder fs-3 align-items-center my-1">Tambah Dokumen</h1>
                    <span class="h-20px border-gray-300 border-start mx-4"></span>
                    <ul class="breadcrumb breadcrumb-separatorless fw-bold fs-7 my-1">
                        <li class="breadcrumb-item text-muted">
                            <a href="/pengembangan/aplikasi/list" class="text-muted text-hover-primary">Daftar Aplikasi</a>
                        </li>
                        <li class="breadcrumb-item">
                            <span class="bullet bg-gray-300 w-5px h-2px"></span>
                        </li>
                        <li class="breadcrumb-item text-muted">Versioning</li>
                        <li class="breadcrumb-item">
                            <span class="bullet bg-gray-300 w-5px h-2px"></span>
                        </li>
                        <li class="breadcrumb-item text-dark">Tambah Dokumen</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <th:block th:if="${versiAplikasi.getId_proses() == 1 || versiAplikasi.getId_proses() == 2 || versiAplikasi.getId_proses() == 3 || versiAplikasi.getId_proses() == 4}">
        <form id="formTambahDokumen">
            <div class="card mb-5 pe-0 ps-0">
                <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
                    <div class="card card-flush">
                        <div class="card-header" style="background-color: #d3efff;">
                            <h3 class="card-title align-items-start flex-column">
                                <span>Dokumen Proyek</span>
                            </h3>
                        </div>
                        <th:block th:if="${versiAplikasi.getId_proses() == 1}">
                            <div class="card-body pb-0">
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadProjectCharter" style="display:none !important">
                                    <label class="form-label">Project Charter</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadProjectCharter" name="uploadProjectCharter" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadProjectCharter" th:if="${versiAplikasi.getProject_charter() != null}">
                                    <label class="form-label">Project Charter</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),3);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/3|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadProjectManajemenPlan" style="display:none !important">
                                    <label class="form-label">Project Manajemen Plan</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadProjectManajemenPlan" name="uploadProjectManajemenPlan" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadProjectManajemenPlan" th:if="${versiAplikasi.getPmp() != null}">
                                    <label class="form-label">Project Manajemen Plan</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),4);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/4|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadDokumenKajian" style="display:none !important">
                                    <label class="form-label">Dokumen Kajian</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadDokumenKajian" name="uploadDokumenKajian" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailDokumenKajian" th:if="${versiAplikasi.getKajian() != null}">
                                    <label class="form-label">Dokumen Kajian</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),6);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/6|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadDokumenPengajuanPengembangan" style="display:none !important">
                                    <label class="form-label">Dokumen Pengajuan Pengembangan</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadDokumenPengajuanPengembangan" name="uploadDokumenPengajuanPengembangan" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailDokumenPengajuanPengembangan" th:if="${versiAplikasi.getFile_pengajuan_kembang() != null}">
                                    <label class="form-label">Dokumen Pengajuan Pengembangan</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),5);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/5|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                        <th:block th:if="${versiAplikasi.getId_proses() == 2}">
                            <div class="card-body pb-0">
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadUrs" style="display:none !important">
                                    <label class="form-label">URS</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadUrs" name="uploadUrs" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadUrs" th:if="${versiAplikasi.getUrs() != null}">
                                    <label class="form-label">URS</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),7);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/7|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadSrs" style="display:none !important">
                                    <label class="form-label">SRS</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadSrs" name="uploadSrs" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadSrs" th:if="${versiAplikasi.getSrs() != null}">
                                    <label class="form-label">SRS</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),8);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/8|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadSdd" style="display:none !important">
                                    <label class="form-label">SDD</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadSdd" name="uploadSdd" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadSdd" th:if="${versiAplikasi.getSdd() != null}">
                                    <label class="form-label">SDD</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),9);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/9|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                        <th:block th:if="${versiAplikasi.getId_proses() == 3}">
                            <div class="card-body pb-0">
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadPermohonanTok" style="display:none !important">
                                    <label class="form-label">Permohonan TOK</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadPermohonanTok" name="uploadPermohonanTok" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadPermohonanTok" th:if="${versiAplikasi.getFile_permohonan_tok() != null}">
                                    <label class="form-label">Permohonan TOK</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),13);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/13|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadPermohonanUat" style="display:none !important">
                                    <label class="form-label">Permohonan UAT</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadPermohonanUat" name="uploadPermohonanUat" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadPermohonanUat" th:if="${versiAplikasi.getFile_permohonan_uat() != null}">
                                    <label class="form-label">Permohonan UAT</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),14);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/14|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadTok" style="display:none !important">
                                    <label class="form-label">TOK</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadTok" name="uploadTok" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadTok" th:if="${versiAplikasi.getFile_tok() != null}">
                                    <label class="form-label">TOK</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),10);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/10|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadUat" style="display:none !important">
                                    <label class="form-label">UAT</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadUat" name="uploadUat" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadUat" th:if="${versiAplikasi.getFile_uat() != null}">
                                    <label class="form-label">UAT</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),11);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/11|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadNdDeploy" style="display:none !important">
                                    <label class="form-label">ND Deploy</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadNdDeploy" name="uploadNdDeploy" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadNdDeploy" th:if="${versiAplikasi.getNd_deploy() != null}">
                                    <label class="form-label">ND Deploy</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),12);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/12|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                        <th:block th:if="${versiAplikasi.getId_proses() == 4}">
                            <div class="card-body pb-0">
                                <div class="fv-row w-100 flex-md-root mb-5" id="divUploadNdRollout" style="display:none !important">
                                    <label class="form-label">ND Rollout</label>
                                    <div class="custom-file">
                                        <input type="file" class="custom-file-input" id="uploadNdRollout" name="uploadNdRollout" accept="application/pdf" autocomplete="off">
                                        <label class="custom-file-label selected">Pilih File</label>
                                        <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                    </div>
                                </div>
                                <div class="mb-5 d-flex flex-wrap gap-5" id="divDetailUploadNdRollout" th:if="${versiAplikasi.getNd_rollout() != null}">
                                    <label class="form-label">ND Rollout</label><div class="badge badge-light-danger" style="margin-left:5px;cursor: pointer;" th:data-param="${versiAplikasi.getId_version()}" onclick="hapusFile(this.getAttribute('data-param'),15);">Delete File</div>
                                    <div class="custom-file">
                                        <a th:href="@{|/pengembangan/versioning/download/${versiAplikasi.getId_version()}/15|}"><img src="/assets/media/files/pdf.svg" style="width: 40px; margin-left: -5px;"></a>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                        <div class="card-footer d-flex justify-content-end py-6 pt-0 border-top-0">
                            <button type="submit" class="btn btn-primary" id="btnTambahDokumen"><i class="fas fa-plus fs-4 me-2"></i> Tambah</button>&nbsp;
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </th:block>

    <form id="formTambahDokumenLainnya">
        <div class="card mb-0 p-0">
            <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
                <div class="card card-flush">
                    <div class="card-header" style="background-color: #d3efff;">
                        <h3 class="card-title align-items-start flex-column">
                            <span>Dokumen Proyek Lainnya</span>
                        </h3>
                    </div>
                    <div class="card-body pb-0">
                        <div class="mb-5 d-flex flex-wrap gap-5">
                            <div class="fv-row w-100 flex-md-root">
                                <label class="form-label">Nama Dokumen</label>
                                <input type="text" name="inputNamaDokumen" id="inputNamaDokumen" class="form-control mb-2" value="" autocomplete="off"/>
                            </div>
                            <div class="fv-row w-100 flex-md-root">
                                <label class="form-label">Pembuat Dokumen</label>
                                <input type="text" name="inputPembuatDokumen" id="inputPembuatDokumen" class="form-control mb-2" value="" autocomplete="off"/>
                            </div>
                            <div class="fv-row w-100 flex-md-root">
                                <label class="form-label">Upload Dokumen</label>
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input" id="uploadDokumenLainnya" name="uploadDokumenLainnya" accept="application/pdf" autocomplete="off">
                                    <label class="custom-file-label selected">Pilih File</label>
                                    <span class="form-text text-danger">File berformat PDF dan ukuran maksimal 30 MB</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer d-flex justify-content-end py-6 pt-0 border-top-0">&nbsp;
                        <button type="submit" class="btn btn-primary" id="btnTambahDokumenLainnya"><i class="fas fa-plus fs-4 me-2"></i> Tambah</button>&nbsp;
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-0 p-0 mt-10">
            <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
                <div class="card card-flush mt-0 p-9">
                    <div class="card-header mt-0 ps-0 pe-0 border-bottom-0">
                        <div class="card-toolbar my-1">
                            <!--begin::Search-->
                            <div class="d-flex align-items-center position-relative my-1">
                                <span class="svg-icon svg-icon-1 position-absolute ms-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="currentColor" />
                                        <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="currentColor" />
                                    </svg>
                                </span>
                                <input type="text" data-dokumen="search" class="form-control form-control-solid w-250px ps-14" placeholder="Cari..." id="cariTabelDokumen"/>
                            </div>
                            <!--end::Search-->
                        </div>
                    </div>
                    <div class="card-body pt-0 ps-0 pe-0">
                        <div class="table-responsive">
                            <table id="tabelDokumen" class="table table-striped table-row-bordered gy-5 gs-7">
                                <thead class="fs-7 text-gray-700 text-uppercase" style="font-weight: bold">
                                    <tr>
                                        <th>No</th>
                                        <th>Nama</th>
                                        <th>Bagian</th>
                                        <th>File Dokumen</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="text-gray-600 fw-semibold">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <input th:id="idVersion" th:name="idVersion" th:value="${idVersion}" hidden/>
    <input th:id="idProses" th:name="idProses" th:value="${versiAplikasi.getId_proses()}" hidden/>

</div>
<div layout:fragment="custom-js" th:remove="tag">
    <script th:src="@{/assets/js/djp/custom/baseDokumen.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/djp/custom/dashboardDokumen.js}" type="text/javascript"></script>
</div>
</body>
</html>