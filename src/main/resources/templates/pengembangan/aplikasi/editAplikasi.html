<!DOCTYPE html>
<html layout:decorate="~{layout/base}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Office TIK - Edit Proyek Aplikasi</title>
</head>
<body>
<div layout:fragment="content" th:remove="tag">

    <div class="toolbar mt-0" id="kt_toolbar" style="background-color: #FEC91B;">
        <div id="kt_toolbar_container" class="container-fluid d-flex ">
            <div data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                <div data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
                    <h1 class="d-flex text-dark fw-bolder fs-3 align-items-center my-1">Edit Proyek Aplikasi</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="card mb-5 pe-0 ps-0">
        <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
            <div class="card card-flush">
                <form id="formEditProyekAplikasi">
                    <div class="card-header" style="background-color: #d3efff;">
                        <h3 class="card-title align-items-start flex-column">
                            <span >Detail Proyek Aplikasi</span>
                        </h3>
                    </div>
                    <div class="card-body pb-0">
                        <div class="mb-10 fv-row">
                            <label class="required form-label">Kode Proyek</label>
                            <input type="text" name="inputKodeProyek" id="inputKodeProyek" class="form-control mb-2" th:value="${detailAplikasi.getKode_project()}" />
                        </div>
                        <div class="mb-10 fv-row">
                            <label class="required form-label">Nama Aplikasi</label>
                            <input type="text" name="inputNamaAplikasi" id="inputNamaAplikasi" class="form-control mb-2" th:value="${detailAplikasi.getNama()}" />
                        </div>
                        <div class="mb-10 fv-row">
                            <label class="form-label">Keterangan</label>
                            <textarea type="text" name="inputKeteranganAplikasi" id="inputKeteranganAplikasi" class="form-control mb-2" rows="2" autocomplete="off" th:text="${detailAplikasi.getKeterangan()}" ></textarea>
                        </div>
                        <div class="mb-10 d-flex flex-wrap gap-5">
                            <div class="fv-row w-100 flex-md-root">
                                <label class="required form-label">Subdit Pengampu</label>
                                <select onchange="getSeksiBySubdit(this)" class="form-select mb-2" name="inputSubditPengampuAplikasi" id="inputSubditPengampuAplikasi" data-control="select2" data-hide-search="true" data-placeholder="Pilih Subdit Pengampu">
                                    <option value="">Pilih Subdit Pengampu</option>
                                    <option th:each="listSubditPengampu : ${listSubditPengampu}"
                                            th:value="${listSubditPengampu.id_subdit}"
                                            th:text="${listSubditPengampu.nama_subdit}"
                                            th:selected="${listSubditPengampu.id_subdit} == ${detailAplikasi.getSubdit()}">
                                    </option>
                                </select>
                            </div>
                            <div class="fv-row w-100 flex-md-root">
                                <label class="required form-label">Seksi Pengampu</label>
                                <select class="form-select mb-2" name="inputSeksiPengampuAplikasi" id="inputSeksiPengampuAplikasi" data-control="select2" data-hide-search="true" data-placeholder="Pilih Subdit Terlebih Dahulu">
                                    <option th:each="listSeksiPengampu : ${listSeksiPengampu}"
                                            th:value="${listSeksiPengampu.id_seksi}"
                                            th:text="${listSeksiPengampu.nama_seksi}"
                                            th:selected="${listSeksiPengampu.id_seksi} == ${detailAplikasi.getSeksi()}">
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-10 d-flex flex-wrap gap-5">
                            <div class="fv-row w-100 flex-md-root">
                                <label class="required form-label">Stakeholder Aplikasi</label>
                                <select class="form-select mb-2" name="inputStakeholderAplikasi" id="inputStakeholderAplikasi" data-control="select2" data-hide-search="true" data-placeholder="Pilih Stakeholder Aplikasi">
                                    <option th:each="listStakeholder : ${listStakeholder}"
                                            th:value="${listStakeholder.id_stakeholder}"
                                            th:text="${listStakeholder.nama_stakeholder}"
                                            th:selected="${listStakeholder.id_stakeholder} == ${detailAplikasi.getStakeholder()}">
                                    </option>
                                </select>
                            </div>
                            <div class="fv-row w-100 flex-md-root">
                                <label class="required form-label">Kategori Aplikasi</label>
                                <select class="form-select mb-2" name="inputKategoriAplikasi" id="inputKategoriAplikasi" data-control="select2" data-hide-search="true" data-placeholder="Pilih Kategori Aplikasi">
                                    <option th:each="listKategoriAplikasi : ${listKategoriAplikasi}"
                                            th:value="${listKategoriAplikasi.id_kategori_aplikasi}"
                                            th:text="${listKategoriAplikasi.nama_kategori_aplikasi}"
                                            th:selected="${listKategoriAplikasi.id_kategori_aplikasi} == ${detailAplikasi.getKategori()}">
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-10 fv-row">
                            <label class="form-label">Source Code</label>
                            <input type="text" name="inputSourcecodeAplikasi" id="inputSourcecodeAplikasi" class="form-control mb-2" th:value="${detailAplikasi.getSource_link()}" />
                        </div>
                        <div class="mb-10 fv-row">
                            <label class="form-label">Infrastruktur</label>
                            <textarea type="text" name="inputInfrastrukturAplikasi" id="inputInfrastrukturAplikasi" class="form-control mb-2" rows="2" autocomplete="off" th:text="${detailAplikasi.getInfrastruktur()}"></textarea>
                        </div>
                    </div>

                    <div class="card-footer d-flex justify-content-end py-6 pt-0 border-top-0">
                        <a class="btn btn-secondary btn-color-gray-700 btn-flex btn-active-primary h-40px border-0 fw-bolder px-4 px-lg-6 me-2 me-lg-1" href="/pengembangan/aplikasi/list">Kembali</a>
                        <button type="reset" class="btn btn-light btn-active-light-primary">Reset</button>&nbsp;
                        <button type="submit" class="btn btn-primary">Simpan</button>&nbsp;
                    </div>
                </form>
            </div>
        </div>
    </div>

    <input th:id="idAplikasi" th:name="idAplikasi" th:value="${detailAplikasi.getId_aplikasi()}" hidden/>

</div>
<div layout:fragment="custom-js" th:remove="tag">
    <script th:src="@{/assets/js/djp/custom/baseAplikasi.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/djp/custom/dashboardAplikasi.js}" type="text/javascript"></script>
</div>
</body>
</html>